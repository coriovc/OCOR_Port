<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCOR | PORTAFOLIO</title>
    <link rel="icon" href="IMG/ICON.png">
    <!-- Carga de Tailwind CSS -->
    <script src="style.ccs"></script>
    <!-- Carga de la fuente Inter (estilo Apple) -->
    <link href="css2.css" rel="stylesheet">
    <style>
        /* Definición de la paleta de colores a partir de la imagen */
        :root {
            --color-rich-black: #000F01;
            --color-dark-green: #032221;
            --color-caribbean-green: #00FF81;
            --color-mountain-meadow: #0C0C44;
            --color-anti-flash-white: #FFFFF6;
        }

        /* Aplicación de la fuente y fondo oscuro */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-rich-black);
            color: var(--color-anti-flash-white);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Estilo para el efecto Liquid Glass (Frosted Glass) */
        .liquid-glass-card {
            background-color: rgba(3, 34, 33, 0.4); /* Dark Green con transparencia */
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(0, 255, 129, 0.2); /* Caribbean Green semitransparente */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Estilo para el botón primario */
        .btn-primary {
            background-color: var(--color-caribbean-green);
            color: var(--color-rich-black);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 255, 129, 0.5);
        }

        /* NUEVO: Estilo para el botón de WhatsApp con efecto Neón */
        .btn-whatsapp {
            background-color: var(--color-whatsapp-green);
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px var(--color-whatsapp-green); /* Sombra inicial neón */
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn-whatsapp:hover {
            background-color: #1DA851; /* Color un poco más oscuro al pasar el mouse */
            transform: scale(1.05);
            box-shadow: 0 0 30px var(--color-whatsapp-green), 0 0 5px rgba(255, 255, 255, 0.5); /* Sombra neón más fuerte */
        }

        /* Animación sutil de fondo para dar un toque moderno */
        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        .hero-shape {
            position: absolute;
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, var(--color-caribbean-green), transparent);
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.15;
            animation: moveShape 15s infinite alternate ease-in-out;
        }

        .shape-1 { top: 10%; left: 5%; animation-delay: 0s; }
        .shape-2 { bottom: 20%; right: 10%; animation-delay: 3s; width: 400px; height: 400px; background: linear-gradient(45deg, var(--color-dark-green), transparent); }
        .shape-3 { top: 50%; right: 40%; animation-delay: 6s; width: 200px; height: 200px; background: linear-gradient(90deg, #00C6FF, transparent); }

        @keyframes moveShape {
            0% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(50px, 50px) scale(1.1); }
            100% { transform: translate(0, 0) scale(1); }
        }

        /* Estilo para el efecto hover de las tarjetas */
        .portfolio-item:hover .item-overlay {
            opacity: 1;
            transform: translateY(0);
        }

        .img-logo {
            position: absolute;
            width: 70%;
            display: block;

        }

        .navmini{
                max-width: 15%;
        }

        @media screen and (max-width: 768px) {
            .img-logo {
                position: absolute;
                width: 65%;
                display: block;
            }
            .navmini{
                max-width: 40%;
        }
        }
        

        .item-overlay {
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            backdrop-filter: blur(5px); /* Desenfoque adicional para la interacción */
            -webkit-backdrop-filter: blur(5px);
        }

        .spinner {
            border: 4px solid rgba(0, 255, 129, 0.2);
            border-top: 4px solid var(--color-caribbean-green);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* --- NUEVO: Estilo para el efecto de parpadeo/flicker en el texto --- */
        .flicker-text {
            animation: flicker 4s infinite alternate; /* Animación principal para el parpadeo */
        }

        @keyframes flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                text-shadow: 
                    -1px -1px 4px var(--color-caribbean-green), 
                    1px 1px 4px var(--color-caribbean-green);
                opacity: 1;
                transform: skewX(0);
            }
            20%, 24%, 55% {
                /* Efecto de glitch más intenso */
                text-shadow: 
                    -1px -1px 20px rgba(0, 255, 129, 0.8),
                    1px 1px 20px rgba(0, 255, 129, 0.8),
                    0 0 40px rgba(0, 255, 129, 0.5);
                opacity: 0.8;
                transform: skewX(-3deg); /* Ligero skew para efecto glitch */
            }
        }

        /* --- NUEVOS ESTILOS PARA ICONOS SOCIALES --- */
        .social-icon {
            /* Liquid Glass base para los iconos */
            background-color: rgba(3, 34, 33, 0.7); 
            border: 1px solid rgba(0, 255, 129, 0.1); 
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Springy transition */
        }
        
        .social-icon:hover {
            transform: scale(1.2) translateY(-5px); /* Bounce and enlarge */
            box-shadow: 0 8px 20px rgba(0, 255, 129, 0.6);
            border-color: var(--color-caribbean-green);
        }
        
        /* Color de los iconos al hacer hover */
        .social-icon-svg {
            color: var(--color-caribbean-green);
            transition: color 0.3s;
        }

        .social-icon:hover .social-icon-svg {
            color: var(--color-anti-flash-white);
        }
    </style>
</head>

<body>
    <!-- Fondo Animado -->
    <div class="hero-background">
        <div class="hero-shape shape-1"></div>
        <div class="hero-shape shape-2"></div>
        <div class="hero-shape shape-3"></div>
    </div>

    <!-- Navegación -->
    <header class="w-full max-w-7xl mx-auto p-4 lg:p-8 z-10 sticky top-0" style="z-index: 2000;">
        <nav class="liquid-glass-card navmini p-4 rounded-xl flex justify-between items-center" style="justify-content: center; padding: 2rem; border-radius: 2rem;">
            <img src="IMG/LOGO.svg" class="img-logo" alt="OCOR INC">         
        </nav>
    </header>

    <!-- Sección Principal (Hero) -->
    <main class="w-full max-w-7xl mx-auto p-4 lg:p-8 flex-grow z-10">
        <section id="hero" class="text-center py-20 lg:py-32">
            <h1 class="text-4xl sm:text-6xl lg:text-7xl font-extrabold tracking-tight mb-4 leading-tight">
                Diseño Con <span class="flicker-text" style="color: var(--color-caribbean-green);">PROPÓSITO</span>
                <br class="hidden sm:block">
                Impacto asegurado.
            </h1>
            <p class="text-lg sm:text-xl max-w-3xl mx-auto mb-8 opacity-70">
                Te ayudaremos a que tu marca se destaque en el mundo digital con estrategias innovadoras y creativas.
            </p>
            <a href="#portafolio" class="btn-primary inline-block px-8 py-3 rounded-full font-bold text-lg shadow-xl">
                Ver Portafolio
            </a>
        </section>

        <!-- Portafolio de Proyectos -->
        <section id="portafolio" class="pt-16 pb-32">
            <h2 class="text-3xl sm:text-4xl font-bold mb-12 text-center">Nuestros Trabajos Destacados</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

                <!-- Ítem 1 -->
                <div class="portfolio-item liquid-glass-card rounded-2xl overflow-hidden group cursor-pointer relative">
                    <img src="IMG/IMG1.png" alt="Proyecto de Branding para Tienda Online" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105">
                    
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-caribbean-green);">Flyers</h3>
                        <p class="text-sm opacity-70">Diseño completo de FLYERS a tu gusto y con tus ideas.</p>
                        <span class="mt-3 inline-block text-xs font-medium px-3 py-1 rounded-full bg-caribbean-green-900" style="background-color: var(--color-dark-green);">
                            #Diseño
                        </span>
                    </div> 

                    <!-- Overlay (Efecto Apple al pasar el ratón) -->
                    <div class="item-overlay absolute inset-0 bg-rich-black bg-opacity-80 flex flex-col justify-center items-center text-center p-4">
                        <p class="text-lg font-bold mb-4">Hemos hecho muchos trabajos</p>
                        <button onclick="openGeminiAnalysis('Branding E-commerce para tienda de moda sostenible')" class="btn-primary px-6 py-2 rounded-full font-semibold">
                            Ver Flyers
                        </button>
                    </div>
                </div>

                <!-- Ítem 2 -->
                <div class="portfolio-item liquid-glass-card rounded-2xl overflow-hidden group cursor-pointer relative">
                    <img src="IMG/IMG1.png" alt="Campaña SEO y Content Marketing" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105">
                    
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-caribbean-green);">Estrategia de Contenido</h3>
                        <p class="text-sm opacity-70">Aumento del 300% en tráfico orgánico mediante una estrategia SEO enfocada en Nichos de Mercado.</p>
                        <span class="mt-3 inline-block text-xs font-medium px-3 py-1 rounded-full bg-caribbean-green-900" style="background-color: var(--color-dark-green);">
                            #SEO
                        </span>
                    </div>

                    <!-- Overlay -->
                    <div class="item-overlay absolute inset-0 bg-rich-black bg-opacity-80 flex flex-col justify-center items-center text-center p-4">
                        <p class="text-lg font-bold mb-4">¿Quieres un resumen ejecutivo? ✨</p>
                        <button onclick="openGeminiAnalysis('Estrategia de Contenido y SEO en Nichos de Mercado')" class="btn-primary px-6 py-2 rounded-full font-semibold">
                            Generar Insight
                        </button>
                    </div>
                </div>

                <!-- Ítem 3 -->
                <div class="portfolio-item liquid-glass-card rounded-2xl overflow-hidden group cursor-pointer relative">
                    <img src="IMG/IMG1.png" alt="Gestión y Estrategia de Redes Sociales" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105">
                    
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-caribbean-green);">Automatización de RRSS</h3>
                        <p class="text-sm opacity-70">Desarrollo de chatbots y secuencias de engagement para Instagram y Facebook, generando leads calificados.</p>
                        <span class="mt-3 inline-block text-xs font-medium px-3 py-1 rounded-full bg-caribbean-green-900" style="background-color: var(--color-dark-green);">
                            #Automatización
                        </span>
                    </div>

                    <!-- Overlay -->
                    <div class="item-overlay absolute inset-0 bg-rich-black bg-opacity-80 flex flex-col justify-center items-center text-center p-4">
                        <p class="text-lg font-bold mb-4">¿Quieres un resumen ejecutivo? ✨</p>
                        <button onclick="openGeminiAnalysis('Automatización y Generación de Leads Calificados en Redes Sociales')" class="btn-primary px-6 py-2 rounded-full font-semibold">
                            Generar Insight
                        </button>
                    </div>
                </div>

                <!-- Ítem 4 (Ejemplo Adicional) -->
                <div class="portfolio-item liquid-glass-card rounded-2xl overflow-hidden group cursor-pointer relative">
                    <img src="IMG/IMG1.png" alt="Dashboards de Analítica de Datos" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105">
                    
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-caribbean-green);">Visualización de Datos</h3>
                        <p class="text-sm opacity-70">Implementación de dashboards avanzados para monitoreo de KPIs en tiempo real.</p>
                        <span class="mt-3 inline-block text-xs font-medium px-3 py-1 rounded-full bg-caribbean-green-900" style="background-color: var(--color-dark-green);">
                            #Data
                        </span>
                    </div>

                    <!-- Overlay -->
                    <div class="item-overlay absolute inset-0 bg-rich-black bg-opacity-80 flex flex-col justify-center items-center text-center p-4">
                        <p class="text-lg font-bold mb-4">¿Quieres un resumen ejecutivo? ✨</p>
                        <button onclick="openGeminiAnalysis('Implementación de Dashboards Avanzados para Monitoreo de KPIs')" class="btn-primary px-6 py-2 rounded-full font-semibold">
                            Generar Insight
                        </button>
                    </div>
                </div>

                <!-- Ítem 5 -->
                <div class="portfolio-item liquid-glass-card rounded-2xl overflow-hidden group cursor-pointer relative">
                    <img src="IMG/IMG1.png" alt="Campaña de Publicidad Digital" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105">
                    
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-caribbean-green);">Publicidad de Alto Impacto</h3>
                        <p class="text-sm opacity-70">Campaña de Google Ads y Social Ads que generó un ROAS de 5:1 en el primer trimestre.</p>
                        <span class="mt-3 inline-block text-xs font-medium px-3 py-1 rounded-full bg-caribbean-green-900" style="background-color: var(--color-dark-green);">
                            #PPC
                        </span>
                    </div>

                    <!-- Overlay -->
                    <div class="item-overlay absolute inset-0 bg-rich-black bg-opacity-80 flex flex-col justify-center items-center text-center p-4">
                        <p class="text-lg font-bold mb-4">¿Quieres un resumen ejecutivo? ✨</p>
                        <button onclick="openGeminiAnalysis('Campaña de Publicidad de Alto Impacto en Google Ads y Social Ads')" class="btn-primary px-6 py-2 rounded-full font-semibold">
                            Generar Insight
                        </button>
                    </div>
                </div>

                <!-- Ítem 6 -->
                <div class="portfolio-item liquid-glass-card rounded-2xl overflow-hidden group cursor-pointer relative">
                    <img src="IMG/IMG1.png" alt="Diseño de Landing Page de Conversión" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105">
                    
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2" style="color: var(--color-caribbean-green);">Optimización de Conversión</h3>
                        <p class="text-sm opacity-70">Rediseño de landing pages resultando en un incremento del 45% en la tasa de conversión de leads.</p>
                        <span class="mt-3 inline-block text-xs font-medium px-3 py-1 rounded-full bg-caribbean-green-900" style="background-color: var(--color-dark-green);">
                            #CRO
                        </span>
                    </div>

                    <!-- Overlay -->
                    <div class="item-overlay absolute inset-0 bg-rich-black bg-opacity-80 flex flex-col justify-center items-center text-center p-4">
                        <p class="text-lg font-bold mb-4">¿Quieres un resumen ejecutivo? ✨</p>
                        <button onclick="openGeminiAnalysis('Optimización de Conversión (CRO) y Rediseño de Landing Pages')" class="btn-primary px-6 py-2 rounded-full font-semibold">
                            Generar Insight
                        </button>
                    </div>
                </div>

            </div>
        </section>

        <!-- Sección de Contacto (simulada) -->
        <section id="contacto" class="py-20 text-center">
            <div class="liquid-glass-card p-8 rounded-3xl text-center max-w-xl mx-auto">
                <h3 class="text-2xl font-bold mb-4">
                    ¿Listo para Transformar tu Marca?
                </h3>
                <p class="text-lg mb-6 opacity-80">
                    Hablemos de tu visión. Elige el canal que prefieras para dar el primer paso.
                </p>
                <button onclick="showContactModal()" class="btn-primary px-8 py-3 rounded-full font-bold text-lg">
                    Inicia la Conversación
                </button>
            </div>
        </section>

    </main>

        <!-- Redes Sociales Animadas (NUEVO) -->
    <section class="w-full max-w-7xl mx-auto py-10">
        <div class="flex justify-center space-x-6">
            <!-- Instagram -->
            <a href="https://instagram.com/nexgen" target="_blank" class="social-icon w-12 h-12 rounded-full flex items-center justify-center">
                <svg class="social-icon-svg w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
            </a>

            <!-- X (Twitter) -->
            <a href="https://x.com/nexgen" target="_blank" class="social-icon w-12 h-12 rounded-full flex items-center justify-center">
                <svg class="social-icon-svg w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18.84 6.84l-5.69 5.69L19 18.84h-2.5l-4.71-4.71L7.5 18.84H5l5.69-5.69L5 6.84h2.5l4.71 4.71L16.5 6.84z"></path>
                </svg>
            </a>

            <!-- LinkedIn -->
            <a href="https://linkedin.com/company/nexgen" target="_blank" class="social-icon w-12 h-12 rounded-full flex items-center justify-center">
                <svg class="social-icon-svg w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                    <rect x="2" y="9" width="4" height="12"></rect>
                    <circle cx="4" cy="4" r="2"></circle>
                </svg>
            </a>
            
            <!-- Email (Contacto directo) -->
            <a href="mailto:contacto@nexgen.com" class="social-icon w-12 h-12 rounded-full flex items-center justify-center">
                <svg class="social-icon-svg w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
            </a>
        </div>
    </section>

    <!-- Pie de página -->
    <footer class="w-full max-w-7xl mx-auto mt-10 p-4 lg:p-8 border-t border-dark-green text-center text-sm opacity-50">
        <p>&copy; 2025 OCOR. Diseñado con visión.</p>
    </footer>

    <!-- Modal de Contacto/CTA (NUEVO DISEÑO CON WHATSAPP) -->
    <div id="contactCtaModal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center p-4 z-50">
        <div class="liquid-glass-card p-8 rounded-xl max-w-sm w-full text-center">
            
            <!-- WhatsApp CTA - PRIMARY FOCUS -->
            <h3 class="text-3xl font-extrabold mb-4 uppercase text-white" style="text-shadow: 0 0 10px var(--color-whatsapp-green);">
                Escríbenos a WhatsApp
            </h3>
            <p class="mb-6 text-lg font-medium opacity-90">
                ¡Impactante y elegante! Conexión inmediata para tu proyecto. 
                <br>Comencemos a construir tu estrategia hoy.
            </p>
            
            <!-- WhatsApp Button (Reusa el estilo neón) -->
            <a href="https://wa.me/584243239681?text=Hola,%20quisiera%20saber%20más%20sobre%20sus%20servicios." target="_blank" class="btn-whatsapp px-8 py-3 rounded-full font-bold text-lg flex items-center justify-center w-full mx-auto mb-6">
                <!-- Ícono SVG de WhatsApp -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
                </svg> &nbsp;
                Chatea Ahora
            </a>
            
            <!-- Secondary Option (Email) -->
            <p class="mb-4 text-sm opacity-70 border-t pt-4 border-dark-green">
                O si lo prefieres, agenda una consulta detallada por correo electrónico:
                <a href="mailto:victororio2910@gmail.com?subject=Consulta%20sobre%20servicios&body=Hola%2C%20estoy%20interesado%20en%20sus%20servicios." target="_blank" class="btn-whatsapp px-8 py-3 rounded-full font-bold text-lg flex items-center justify-center w-full mx-auto mb-6">
                <!-- Ícono SVG de WhatsApp -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                 <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
                </svg> &nbsp;
                Enviar Correo
            </a>
            </p>
            <button onclick="hideContactModal()" class="btn-primary px-6 py-2 rounded-full font-semibold w-full">
                Cerrar
            </button>
        </div>
    </div>

    <!-- Modal de Análisis Gemini -->
    <div id="geminiModal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center p-4 z-50">
        <div class="liquid-glass-card p-8 rounded-xl max-w-lg w-full">
            <h3 id="geminiModalTitle" class="text-2xl font-bold mb-4" style="color: var(--color-caribbean-green);">
                Análisis de Proyecto
            </h3>
            <div id="geminiModalContent">
                <!-- Contenido generado por IA o spinner/mensaje -->
            </div>
            <div class="flex justify-end mt-6">
                <button onclick="hideGeminiModal()" class="btn-primary px-6 py-2 rounded-full font-semibold">
                    Cerrar
                </button>
            </div>
        </div>
    </div>

    <script>
        // Configuración de la API de Gemini
        const apiKey = "";
        const model = 'gemini-2.5-flash-preview-09-2025';

        /**
         * Llama a la API de Gemini con retries y Google Search Grounding.
         * @param {string} userQuery - La consulta principal.
         * @param {string} systemPrompt - La instrucción del sistema.
         * @returns {Promise<{text: string, sources: {uri: string, title: string}[]}>}
         */
        async function geminiApiCall(userQuery, systemPrompt) {
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${apiKey}`;
            
            // Queries en inglés y español para el search grounding
            const searchQueries = [
                userQuery,
                'Digital Marketing Trends ' + userQuery.substring(userQuery.lastIndexOf('sobre:') + 6).trim()
            ];

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }], // Herramienta de Google Search para Grounding
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            let response;
            let retries = 0;
            const maxRetries = 3;
            let delay = 1000;

            while (retries < maxRetries) {
                try {
                    response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429) { // Too Many Requests
                            retries++;
                            await new Promise(resolve => setTimeout(resolve, delay));
                            delay *= 2;
                            continue; // Retry loop
                        }
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];

                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        const text = candidate.content.parts[0].text;
                        let sources = [];
                        const groundingMetadata = candidate.content?.parts?.[0]?.groundingMetadata;

                        if (groundingMetadata && groundingMetadata.groundingAttributions) {
                            sources = groundingMetadata.groundingAttributions
                                .map(attribution => ({
                                    uri: attribution.web?.uri,
                                    title: attribution.web?.title,
                                }))
                                .filter(source => source.uri && source.title);
                        }
                        return { text, sources };
                    } else {
                        return { text: "No se pudo generar una respuesta útil. Intenta de nuevo.", sources: [] };
                    }

                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    retries++;
                    if (retries >= maxRetries) {
                        return { text: `Error de conexión: ${error.message}`, sources: [] };
                    }
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2;
                }
            }
        }


        // --- Contact Modal Functions (UPDATED) ---

        function showContactModal() {
            document.getElementById('contactCtaModal').classList.remove('hidden');
            document.getElementById('contactCtaModal').classList.add('flex');
        }

        function hideContactModal() {
            document.getElementById('contactCtaModal').classList.add('hidden');
            document.getElementById('contactCtaModal').classList.remove('flex');
        }


        // --- Funciones del Modal Gemini (Nuevo) ---

        function showGeminiModal() {
            document.getElementById('geminiModal').classList.remove('hidden');
            document.getElementById('geminiModal').classList.add('flex');
        }

        function hideGeminiModal() {
            document.getElementById('geminiModal').classList.add('hidden');
            document.getElementById('geminiModal').classList.remove('flex');
        }

        function openGeminiAnalysis(projectTitle) {
            const modalTitle = document.getElementById('geminiModalTitle');
            const modalContent = document.getElementById('geminiModalContent');
            
            modalTitle.textContent = `Insight sobre: ${projectTitle}`;

            // Mostrar estado de carga (Spinner)
            modalContent.innerHTML = `
                <div class="text-center">
                    <div class="spinner"></div>
                    <p class="text-lg opacity-80">Analizando las últimas tendencias de marketing...</p>
                </div>
            `;
            showGeminiModal();

            // Llamar a la función de análisis
            generateAnalysis(projectTitle);
        }

        async function generateAnalysis(projectTitle) {
            const modalContent = document.getElementById('geminiModalContent');
            const systemPrompt = "Actúa como un consultor de marketing de alto nivel. Genera un resumen ejecutivo conciso (máximo 40 palabras) y un hallazgo clave (Key Takeaway) para un proyecto de marketing digital sobre el tema proporcionado. Responde en español y usa formato Markdown. El título del hallazgo clave debe ser 'Hallazgo Clave'.";
            const userQuery = `Analiza las tendencias de mercado y genera un resumen ejecutivo sobre el siguiente tipo de proyecto: ${projectTitle}.`;

            const { text, sources } = await geminiApiCall(userQuery, systemPrompt);

            // Reemplazar spinner con contenido
            let htmlContent = `<div class="p-4">${text.replace(/\n/g, '<br>')}</div>`;

            if (sources.length > 0) {
                const sourceList = sources.map(source => 
                    `<li class="text-xs opacity-60 truncate"><a href="${source.uri}" target="_blank" class="hover:underline">${source.title}</a></li>`
                ).join('');
                htmlContent += `
                    <div class="mt-4 pt-4 border-t border-dark-green text-left">
                        <p class="text-sm font-semibold mb-2">Fuentes Consultadas:</p>
                        <ul class="list-disc ml-4 space-y-1">${sourceList}</ul>
                    </div>
                `;
            }

            modalContent.innerHTML = htmlContent;
        }


        // Script para cambiar la opacidad de la barra de navegación al hacer scroll (efecto Apple)
        window.addEventListener('scroll', function() {
            const nav = document.querySelector('nav');
            if (window.scrollY > 50) {
                // Barra de navegación con más transparencia al bajar (más líquido)
                nav.style.backgroundColor = 'rgba(3, 34, 33, 0.6)'; 
            } else {
                // Barra de navegación con menos transparencia al inicio
                nav.style.backgroundColor = 'rgba(3, 34, 33, 0.4)';
            }
        });
    </script>
</body>
</html>